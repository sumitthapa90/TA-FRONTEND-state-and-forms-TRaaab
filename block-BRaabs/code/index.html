<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Billing And Shipping Address</title>
    <link rel="stylesheet" href="./style.css" />
    <script
      crossorigin
      src="https://unpkg.com/react@17/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@17/umd/react-dom.development.js"
    ></script>
  </head>
  <body>
    <div id="root"></div>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script type="text/babel">
      class App extends React.Component {
        constructor(props) {
          super(props);
          this.state = {
            address: "",
            postal: "",
            city: "",
            country: "",
            checkbox: false,
            errors: {
              address: "",
            },
          };
        }

        handleChange = ({ target }) => {
          var { name, value } = target;
          let errors = this.state.errors;
          errors.address =
            name === "address" && value.length < 7
              ? "You need to enter at-least 8 characters"
              : "";

          this.setState({ errors, [name]: value });
        };

        handleChecked = ({ target }) => {
          var { name, checked } = target;
          this.setState({ [name]: checked });
        };

        render() {
          let { address } = this.state.errors;
          return (
            <>
              <header>
                <h1>Learning About Forms</h1>
                <h2>Controlled vs Uncontrolled Component</h2>
              </header>
              <h3>Controlled Component</h3>

              <section>
                <form className="form1">
                  <legend>Shipping Address</legend>

                  <label htmlfor="address">Address</label>
                  <input
                    type="text"
                    id="address"
                    name="address"
                    onChange={this.handleChange}
                    value={this.state.address}
                    placeholder="Address"
                  />

                  <label htmlfor="postal">PostalCode / ZIP</label>
                  <input
                    type="text"
                    id="postal"
                    name="postal"
                    onChange={this.handleChange}
                    value={this.state.postal}
                    placeholder="Postal Code / ZIP"
                  />

                  <label htmlfor="city">City</label>
                  <input
                    type="text"
                    id="city"
                    name="city"
                    onChange={this.handleChange}
                    value={this.state.city}
                    placeholder="City"
                  />

                  <label htmlfor="country">Country</label>
                  <input
                    type="text"
                    id="country"
                    name="country"
                    onChange={this.handleChange}
                    value={this.state.country}
                    placeholder="Country"
                  />
                </form>

                <form className="form2">
                  <legend>Billing Address</legend>

                  <label className="cursor-pointer my-2" htmlFor="checkbox">
                    <input
                      type="checkbox"
                      id="checkbox"
                      onChange={this.handleChecked}
                      name="checked"
                      checked={this.state.checked}
                    />
                    Same as Shipping Address?
                  </label>

                  <label htmlfor="address">Address</label>
                  <input
                    type="text"
                    id="address"
                    name="address"
                    onChange={this.handleChange}
                    value={this.state.checked ? this.state.address : ""}
                    placeholder="Address"
                  />

                  <label htmlfor="potal">Postal Code / ZIP</label>
                  <input
                    type="text"
                    id="postal"
                    name="postal"
                    onChange={this.handleChange}
                    value={this.state.checked ? this.state.postal : ""}
                    placeholder="Postal Code / ZIP"
                  />

                  <label htmlfor="city">City</label>
                  <input
                    type="text"
                    id="city"
                    name="city"
                    onChange={this.handleChange}
                    value={this.state.checked ? this.state.city : ""}
                    placeholder="City"
                  />

                  <label htmlfor="country">Country</label>
                  <input
                    type="text"
                    id="country"
                    name="country"
                    onChange={this.handleChange}
                    value={this.state.checked ? this.state.country : ""}
                    placeholder="Country"
                  />
                </form>
              </section>
            </>
          );
        }
      }
      ReactDOM.render(<App />, document.getElementById("root"));
    </script>
  </body>
</html>
